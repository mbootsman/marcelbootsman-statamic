{{#
@name categories / index
@desc Categories template for taxonomy categories
#}}

<!-- /categories/index.antlers.html -->
<main class="prose fluid-container" id="content">
    <h1>{{ title }}</h1>
    <p>Here are all the categories I wrote about.</p>
    <ul class="list-none">
        {{ terms sort="title:asc"}}

            {{ blogs_count = 0 }}

            {{ collection:blog taxonomy:categories="{{ slug }}" as "blogs" }}
            {{ blogs_count = entries | count }}
            {{ /collection:blog}}

            {{ if blogs_count > 0 }}
                {{ if blogs_count > 1 }}
                    {{ link_title = "Category {{ title }} has {{ blogs_count }} articles" }}
                {{ else }}
                    {{ link_title = "Category {{ title }} has {{ blogs_count }} article" }}
                {{ /if }}
                <li class="inline-block bg-grey rounded-md">
                    <a class="no-underline" title="{{ link_title }}" href="{{ url }}">{{ title }}<sup class="mx-1 ">({{ blogs_count }})</sup></a>
                </li>
            {{ /if }}

        {{ /terms }}
    </ul>
</main>
<!-- End: /categories/index.antlers.html -->